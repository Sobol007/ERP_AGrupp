#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

// Процедура - Устаноливает холдинг партнера в регистр сведений CRM_ХолдингиПартнеров.
//
// Параметры:
//  Партнер	 - Ссылка, СправочникСсылка.Партнеры - Измерение регистра.
//  Холдинг	 - Ссылка, СправочникСсылка.Партнеры - Измерение регистра.
//
Процедура УстановитьХолдингПартнера(Партнер, Холдинг) Экспорт
	Если Не ЗначениеЗаполнено(Партнер) Или ТипЗнч(Партнер) <> Тип("СправочникСсылка.Партнеры") Тогда
		Возврат;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Холдинг) Тогда
		МенеджерЗаписи = РегистрыСведений.CRM_ХолдингиПартнеров.СоздатьМенеджерЗаписи();
		МенеджерЗаписи.Партнер = Партнер;
		МенеджерЗаписи.Холдинг = Холдинг;
		МенеджерЗаписи.Записать();
	Иначе
		НаборЗаписей = РегистрыСведений.CRM_ХолдингиПартнеров.СоздатьНаборЗаписей();
		НаборЗаписей.Отбор.Партнер.Установить(Партнер);
		НаборЗаписей.Записать();
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#КонецЕсли